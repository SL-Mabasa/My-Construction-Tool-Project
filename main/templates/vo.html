{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset = "UTF-8">
        <meta name = "description" content = "Variation Order">
        <meta name = "keywords" content = "Variation Order">
        <meta name = "author" content = "Sicelo Mabasa">
        <meta name = "viewport" content = "width = device-width, initial-scale = 1.0">
        <title>Construction Tool</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="{% static 'assets/fav.ico' %}" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="{% static 'css/karma.css' %}" rel="stylesheet" />
        <script>
          function passvalues(){
  
              let quote = document.getElementById("quote").value;
              quote = Number(quote);
              let profit = document.getElementById("profit").value;
              profit = Number(profit);
              let rate = quote + (quote * profit);
              rate = rate.toFixed(2);
  
              let qty = document.getElementById("qty").value;
              qty = Number(qty);
              let amount = rate * qty;
              amount = amount.toFixed(2);
  
              quote = String(quote);
              profit = profit * 100;
              profit = String(profit);
              qty = String(qty);
              amount = String(amount);
              rate = String(rate);
  
              const description = document.getElementById("description");
              const unit = document.getElementById("unit");
              const form = document.getElementById("form");
  
  
              const describeValue = description.value;
              const unitValue = unit.value;
  
              
              localStorage.setItem("description", describeValue);
              localStorage.setItem("quote", quote);
              localStorage.setItem("profit", profit);
              localStorage.setItem("qty", qty);
              localStorage.setItem("unit", unitValue);
              localStorage.setItem("amount", amount);
              localStorage.setItem("rate", rate);
              
              return false;
          }
      </script>
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="#page-top">Construction Tool</a>
                <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav">
                        <li class="nav-item active">
                          <a class="nav-link" href="Home">Home</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" href="Tools">Tools</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" href="Materials">Materials</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="Products">Products</a>
                          </li>
                        <li class="nav-item">
                          <a class="nav-link" href="About">About</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" href="Contact">Contact</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Masthead-->
        <header class="masthead">
            <div class="container px-4 px-lg-5 d-flex h-100 align-items-center justify-content-center">
                <div class="d-flex justify-content-center">
                    <div class="text-center">
                        <h1 class="mx-auto my-0 text-uppercase">Variation Order</h1>
                    </div>
                </div>
            </div>
        </header>
        <!-- About-->
        <section class="about-section text-center" id="about">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-lg-8">
                        <h2 class="text-white mb-4">Create Variation Orders</h2>
                        <p class="text-white-50">
                            Create your own variation order below
                        </p>
                    </div>
                </div>
              
            </div>
        </section>
        <!-- Projects-->
        <section class="projects-section bg-light" id="projects">
            <div class="container px-4 px-lg-5">
                <!-- Featured Project Row-->
                <div class="row gx-0 mb-4 mb-lg-5 align-items-center">
                   
                        <div class="featured-text text-center text-lg-center">
                          <h1> Tools </h1>
                          <hr>
                              <body >
                                <form action = "table.html">
                                    <div class="row mb-3">
                                        <div class="col-md-6">
                                            <div >
                                                <label for = "description" class="text-black-90"> Item Description </label>
                                                <input type = "text" id = "description" name = "description" placeholder = "e.g 25Mpa Concrete" required>
                                            
                                                <br><br><br>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div >
                                                <label for = "quote" class="text-black-90"> Quote Amount(R) </label>
                                                <input type = "number" id = "quote" name = "quote" min = "0" value = "0" placeholder = "e.g R2000" required>
                     
                                                <br><br><br>
                                            </div>
                                        </div>
                                    </div>
                                    <div >
                                        <label for = "profit" class="text-black-90"> Profit </label>
                                        <select id = "profit" name = "unit">
                                            <option value = "0.05"> 5% </option>
                                            <option value = "0.1"> 10% </option>
                                            <option value = "0.15"> 15% </option>
                                            <option value = "0.2"> 20% </option>
                                            <option value = "0.25"> 25% </option>
                                            <option value = "0.3"> 30% </option>
                                        </select>
                            
                                        <br><br><br>
                                        <div class="d-grid"><a class="btn btn-primary btn-block" onclick= "calculate1()">View Rate</a><p class="featured-text text-center text-lg-left" id = "rate"> </p></div>
                                    </div>
                                    
                                        <div  align = "center">
                                            <div >
                                                <br>
                                                <label for = "qty" class="text-black-90"> Quantity </label>
                                                <input type = "number" id = "qty" name = "qty" min = "1" max = "9999" value = "0" placeholder = "e.g 50" required>
                                            
                                            </div>
                                            <br><br>
                                        </div>
                                        <div  align = "center">
                                            <div >
                                                <label for = "unit" class="text-black-90"> Unit </label>
                                                    <select id = "unit" name = "unit">
                                        
                                                        <option value = "mm"> mm </option>
                                                        <option value = "m"> m </option>
                                                        <option value = "m2"> m2 </option>
                                                        <option value = "m3"> m3 </option>
                                                        <option value = "g"> grams </option>
                                                        <option value = "kg"> kg </option>
                                                        <option value = "No"> No </option>
                                                    
                                                    </select>
                                        
                                                    <br>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="mt-4 mb-0">
                                        <div class="d-grid"><a class="btn btn-primary btn-block" onclick= "calculate2()">View Amount</a><p class="featured-text text-center text-lg-left" id = "amount"> </p></div>
                                    </div>

                                  <input type = "reset" >
                                  <br>
                                  
                                  <input type = "submit" value = "Submit" onclick = "passvalues(), calculate1(), calculate2()">
                                  
                              
                                  <br>
                              
                      
                                  <script >
                      
                                  function calculate1() {
                                      let quote = document.getElementById("quote").value;
                                      quote = Number(quote);
                                      let profit = document.getElementById("profit").value;
                                      profit = Number(profit);
                                      let rate = quote + (quote * profit);
                                      document.getElementById("rate").innerHTML = "Rate: R" + rate.toFixed(2);
                                  }
                      
                      
                                  function calculate2() {
                                      let quote = document.getElementById("quote").value;
                                      quote = Number(quote);
                                      let profit = document.getElementById("profit").value;
                                      profit = Number(profit);
                                      let rate = quote + (quote * profit);
                                      let qty = document.getElementById("qty").value;
                                      qty = Number(qty);
                                      let result = rate * qty;
                                      document.getElementById("amount").innerHTML = "Amount: R" + result.toFixed(2);
                                  }
                      
                      
                                  </script>
                      
                      
                                </form>
                      
                         
                                </body>
                        </div>
                    </div>
                </div>
               
        </section>
        
        <!-- Footer-->
        <footer class="footer bg-black small text-center text-white-50"><div class="container px-4 px-lg-5"></footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="{%static 'js/scripts.js'%}"></script>
    </body>
</html>
